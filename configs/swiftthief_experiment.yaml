run:
  name: "cifar10_resnet18_soft_swiftthief"
  seeds: [0, 1, 2]
  device: "cuda:0"

  victim:
    victim_id: "cifar10_resnet18_v1"
    checkpoint_ref: "/path/to/ckpt.pt"
    input_size: [32, 32]
    channels: 3
    normalization:
      mean: [0.4914, 0.4822, 0.4465]
      std:  [0.2470, 0.2435, 0.2616]
    output_mode: "soft_prob"
    temperature: 1.0
    output_modes_supported: ["soft_prob"]

  dataset:
    name: "CIFAR10"
    data_mode: "surrogate"  # Uses public pool (surrogate)
    seed_size: 10000
    surrogate_name: "SVHN"

  substitute:
    arch: "resnet18"
    init_seed: 1234
    trackA:
      batch_size: 128
      steps_coeff_c: 0.2
    optimizer:
      name: "adamw"
      lr: 0.001
      momentum: 0.9
      weight_decay: 5e-4
    loss:
      soft: "kl"
      hard: "ce"

  attack:
    name: "swiftthief"
    output_mode: "soft_prob"

    # SwiftThief-specific config
    I: 10  # Total rounds (fixed)
    initial_seed_ratio: 0.1  # 10% of budget for initial random seed
    lambda1: 1.0  # Self-supervised loss weight
    lambda2: 0.01  # FGSM regularizer weight
    lambda3: 1.0  # Matching loss weight (CE)
    fgsm_epsilon: 0.01
    projection_dim: 2048  # SimSiam projection head dim
    batch_size: 256  # Training batch size (larger for contrastive)
    max_epochs: 1000
    patience: 100
    dropout: 0.1
    l2_reg: 0.001

  budget:
    max_budget: 100000
    checkpoints: [1000, 10000, 100000]

  cache:
    enabled: true
    policy: "temporary"
    delete_on_finish: true
