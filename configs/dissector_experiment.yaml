run:
  name: "cifar10_resnet18_hard_dissector"
  seeds: [0, 1, 2]
  device: "cuda:0"

  victim:
    victim_id: "cifar10_resnet18_v1"
    checkpoint_ref: "/path/to/ckpt.pt"
    input_size: [32, 32]
    channels: 3
    normalization:
      mean: [0.4914, 0.4822, 0.4465]
      std:  [0.2470, 0.2435, 0.2616]
    output_mode: "hard_top1"
    temperature: 1.0
    output_modes_supported: ["hard_top1"]

  dataset:
    name: "CIFAR10"
    data_mode: "surrogate"
    seed_size: 10000
    surrogate_name: "SVHN"

  substitute:
    arch: "resnet18"
    init_seed: 1234
    trackA:
      batch_size: 128
      steps_coeff_c: 0.2
    optimizer:
      name: "adam"
      lr: 0.001
      momentum: 0.9
      weight_decay: 5e-4
    loss:
      soft: "kl"
      hard: "ce"

  attack:
    name: "blackbox_dissector"
    output_mode: "hard_top1"

    # Black-box Dissector-specific config
    n_variants: 10  # Number of erasing variants for Self-KD
    erasing_ratio: 0.5  # Ratio of area to erase (CAM + random)
    batch_size: 128
    max_epochs: 1000
    patience: 100
    lr: 0.001  # Adam
    dropout: 0.1
    l2_reg: 0.001

  budget:
    max_budget: 100000
    checkpoints: [1000, 10000, 100000]

  cache:
    enabled: true
    policy: "temporary"
    delete_on_finish: true
